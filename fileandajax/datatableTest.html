<!-- <!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Document</title>
        <link rel="stylesheet" href="../lib/DataTables-1.10.13/media/css/jquery.dataTables.min.css">
        <link rel="stylesheet" href="../lib/jquery-resizable-columns-gh-pages/dist/jquery.resizableColumns.css">
        <style type="text/css">
            * {
                margin:0px;
                padding:0px;
                box-sizing: border-box;
            }
    
            body, input, select, button, textarea {
                font-size: 14px;
                font-family: 'Microsoft YaHei',Tahoma, Geneva, sans-serif;
            }
            
            button {
                border-width: 0px;
                outline: none;
            }            
            
            body, html {
                width:100%;
                height:100%;
            } 

            .container {
                width:100%;
                height:100%;
                background: #EFEAC5;
                /*overflow: hidden;*/
            }

            table {
                border-collapse: collapse;
                border-spacing: 10px;
            }              

            th, td {              
                font-weight: normal;
                border:solid 3px #9EC6B8;
                white-space: nowrap;
            }

            tr {

            }

            .resizeStyle {
                resize: horizontal;
                overflow: hidden;                
            }

/*            .resizeDiv {
                width:100px;
                height:100px;
                resize: both;
                overflow: auto;      
                background-color:#DADABD;
            }*/

/*            .resizeDivInsideTable {
                border:solid 1px red;
                width:100%;
                height:100%;
                resize: horizontal;
                overflow-x: hidden;
            }*/
            .tableStyle {
                width:700px;
                /*min-width: 700px !important;*/
            }

            .tableDivStyle {
                display: inline-block;
                width:800px;
                overflow-x: auto;
                border: solid 1px;
                margin-left:100px;
            }

            .grip {
                width:30px;
                height:30px;
                background: red;
            }

            .tableInnerStyle {
                width:2000px;
            }

            .testDivStyle {
                width:100px;
                height:100px;
                background: #FFFEC7;
                position: absolute;
                top:300px;
                left:10px;
            }
        </style>
    </head>
    <body>
        <div class="container">

            <div id="testDiv" class="testDivStyle">
                
            </div>
        </div>
    </body>
    <script src="../lib/requirejs/require.js" type="text/javascript"></script>
    <script src="../js/common/requireconfig.js" type="text/javascript"></script>
    <script type="text/javascript">
        var isRequire = true; 
        if (isRequire) {
            require.config({
                paths: {
                    "othertestmodule": '../js/fileandajax/othertestmodule',
                    "filemodule": "../js/fileandajax/filemodule",
                    "schememodule": '../js/module/schememodule',
                    "colResizable": '../lib/colresizable/colResizable-1.6',
                    "dataTable":'../lib/DataTables-1.10.13/media/js/jquery.dataTables',
                    "resizableColumns":'../lib/jquery-resizable-columns-gh-pages/dist/jquery.resizableColumns'
                },
                shim: {
                    "colResizable": {
                        deps: ["jquery"],
                        exports: "colResizable"
                    },
                    "dataTable": {
                        deps: ["jquery"],
                        exports: "dataTable"
                    },
                    "resizableColumns": {
                        deps: ["jquery"],
                        exports: "resizableColumns"
                    }

                }
            })
            require(["common", "othertestmodule", "filemodule", "constant", "schememodule","ajax", "ajaxtestmodule","colResizable", "dataTable","resizableColumns","domoperation", "jquery", "underscore"], function(common, othertestmodule, filemodule, constant, schememodule, ajax, ajaxtestmodule, colResizable, dataTable, resizableColumns, domoperation) {

                // $('#example').DataTable();

                $("#example2").colResizable({
                    resizeMode:'overflow',
                    // gripInnerHtml:"<div class='grip'></div>"
                })                

                // $("#example").resizableColumns({});

                var option = {
                    url:"http://" + document.domain  + ":8088/getRandomTableData",
                    data:{rows:20, cells:5},
                    dataType:"json",
                    success:function(result) {
                    }
                    ,error:function(readyState, status) {
                        console.error(readyState + " " + status);
                    }
                }   
                ajax.generalAjax(option);

                // (
                    function createResizeColumn(id) {
                    var table = $(id);
                    var parent = table.parent()
                    var thLst = table.find(">thead>tr:first>th,>thead>tr:first>td");
                    
                    var mainDiv = $(document.createElement("div"));
                    mainDiv.css("position", "relative");
                    mainDiv.css("left", 0);
                    mainDiv.css("right", 0);
                    mainDiv.width(table.width());
                    

                    thLst.each((index) => {
                        let th = $(thLst[index]);
                        let resizeColumnOffset = {
                            top:table.offset().top,
                            left:th.offset().left - table.offset().left + th.outerWidth()
                        } 

                        let div = $(document.createElement("div"));
                        div.height(th.height());
                        div.width(5);
                        div.css("position", "absolute");
                        div.css("top", 0);
                        div.css("left", resizeColumnOffset.left);
                        div.css("cursor", "col-resize");
                        div.css("background", "red");
                        div.on("mousedown", mouseDownHandle)  
                        var startIndex = 0;
                        function mouseDownHandle(event) {
                            startIndex = event.clientX;
                            div.on("mousemove", mouseMoveHandle)
                            div.on("mouseup", mouseUpHandle)                         
                        }     
                        function mouseMoveHandle(event) {
                            var left = div.css("left") 
                            console.log("left " + left);
                            var distance = event.clientX - startIndex;
                            console.log("distance " + distance);
                            div.css("left", left + distance);
                            th.width(th.width() + distance);
                            table.width(table.width() + distance);                              
                        } 

                        function mouseUpHandle(event) {
                            var endIndex = event.clientX;
                            div.off("mousemove", mouseMoveHandle);
                            div.off("mouseup", mouseUpHandle);                            
                        }             
                        mainDiv.append(div);
                    })

                    parent.prepend(mainDiv);

                }
                // )
                // ("#example")




            })              
        } else {
        }
    </script>    
</html>




 -->

 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        body, html {
            width:100%;
            height:100%;
        }
        #block {
            width: 200px;
            height: 200px;
            background-color: yellow;
            position: absolute;
        }

        .container {
            width: 100%;
            height:200%;
            background: #031634;
            position:relative;
            top:0;
            left:0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="block"></div>
    </div>
<script>
    /**
     * 拖动元素
     * @param elementId 元素id
     */
    function drag(elementId) {
        var element = document.getElementById(elementId);
        var position = {
            offsetX: 0, //点击处偏移元素的X
            offsetY: 0, //偏移Y值
            state: 0 //是否正处于拖拽状态，1表示正在拖拽，0表示释放
        };
        //获得兼容的event对象
        function getEvent(event) {
            return event || window.event;
        }
        //元素被鼠标拖住
        element.addEventListener('mousedown', function (event) {
            //获得偏移的位置以及更改状态
            var e = getEvent(event);
            position.offsetX = e.offsetX;
            position.offsetY = e.offsetY;
            position.state = 1;
        }, false);
        //元素移动过程中
        document.addEventListener('mousemove', function (event) {
            var e = getEvent(event);
            if (position.state) {
                position.endX = e.clientX;
                position.endY = e.clientY;
                // position.endX = e.pageX;
                // position.endY = e.pageY;                
                //设置绝对位置在文档中，鼠标当前位置-开始拖拽时的偏移位置
                element.style.position = 'absolute';
                element.style.top = position.endY - position.offsetY + 'px';
                element.style.left = position.endX - position.offsetX + 'px';
            }
        }, false);
        //释放拖拽状态
        element.addEventListener('mouseup', function (event) {
            position.state = 0;
        }, false);
    }
    drag('block');
</script>
</body>
</html>