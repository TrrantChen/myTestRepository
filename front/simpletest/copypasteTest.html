<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        body, html {
            width: 100%;
            height: 100%;
        }

        .container {
            width: 100%;
            height: 100%;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <div class="container">
        <button onclick="copy()">copy</button>
        <!--<button onclick="paste()">paste</button>-->
        <div>
            <div id="test" style="width: 100px;height: 100px; border: 1px solid;">
                <div>inner</div>
            </div>
            <div id="output" style="width: 100px;height: 100px; border: 1px solid;">

            </div>
        </div>
    </div>
</body>
<script>
    let div = document.querySelector('#test');

    function copy() {
        let copy_data = div.innerHTML;
        let textarea = document.createElement('textarea');
        textarea.value = copy_data;
        document.body.appendChild(textarea);
        textarea.focus();
        window.getSelection().removeAllRanges();
        let range = document.createRange();
        range.selectNode(textarea);
        window.getSelection().addRange(range);
        console.log(range);

        try {
            if (document.execCommand('copy')) {
                textarea.remove();
            }
        } catch(e) {

        }

        // let clipboardDiv = document.getElementById('output');
        // clipboardDiv.focus();
        // window.getSelection().removeAllRanges();
        // let range = document.createRange();
        //
        // // range.setStartBefore(clipboardDiv.firstChild);
        // // range.setEndAfter(clipboardDiv.lastChild);
        // range.selectNode(clipboardDiv);
        // console.log(range)
        // window.getSelection().addRange(range);
        //
        // try {
        //     if (document.execCommand('copy')) {
        //
        //     }
        // } catch(e) {
        //
        // }
    }

    // function paste() {
    //
    // }

    // document.addEventListener('copy', (evt) => {
    //     // let textarea = document.querySelector('textarea');
    //     // console.log(textarea.innerHTML);
    //     // event.clipboardData.setData('text/plain', textarea.value);
    //     // event.preventDefault();
    //     console.log(evt.clipboardData.getData('text'));
    // });

    // document.addEventListener('paste', (evt) => {
    //     let div = document.querySelector('#test');
    //     div.value = evt.clipboardData.getData('text');
    // });

</script>
</html>
